<launch>

 <arg name="use_sim_time" default="true"/>
<param name="use_sim_time" value="$(arg use_sim_time)"/>
  
   <arg name="x_pos" default="0.0"/>
  <arg name="y_pos" default="0.0"/>
  <arg name="z_pos" default="0.0"/>
  <arg name="roll" default="0.0"/>
  <arg name="pitch" default="0.0"/>
  <arg name="yaw" default="0.0"/>

  <node pkg="gmapping" name="slam_gmapping" type="slam_gmapping" output="screen">
          <param name="map_frame"   value="map"/>
          <param name="scan"        value="scan"/>
          <param name="odom_frame"  value="odom_link"/>
          <param name="base_frame"  value="base_link"/>
          <!--rosparam command="load" file="$(find mapping_robot)/config/gmapping_params.yaml" /-->
  </node>

  <param name="robot_description" command="$(find xacro)/xacro --inorder $(find robots)/models/diff_drive/diff_drive.xacro" />
  <node pkg="gazebo_ros" type="spawn_model" name="spawn_urdf" 
        args="-urdf -param robot_description -model diff_drive
          -x $(arg x_pos) -y $(arg y_pos) -z $(arg z_pos) 
          -R $(arg roll) -P $(arg pitch) -Y $(arg yaw)"/>
          
          
  <node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher" output="screen"/>

</launch>